<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Gábor Farkas | Apache optimization for a map server</title>
  <meta name="description" content="My personal site.
">

  <link rel="shortcut icon" href="/assets/img/favicon.ico">

  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="canonical" href="/blog/2014/apache-optimize/">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    
    <span class="site-title">
        
        Gábor Farkas
    </span>
    

    <nav class="site-nav">

      <div class="trigger">
        <!-- About -->
        <a class="page-link" href="/">about</a>

        <!-- Blog -->
        <a class="page-link" href="/blog/">blog</a>

        <!-- Pages -->
        
          
        
          
            <a class="page-link" href="/cv/">CV</a>
          
        
          
        
          
        
          
            <a class="page-link" href="/publications/">publications</a>
          
        
          
            <a class="page-link" href="/research/">stuff</a>
          
        
          
        
          
        
          
        

        <!-- CV link -->
        <!-- <a class="page-link" href="/assets/pdf/CV.pdf">vitae</a> -->

      </div>
    </nav>

  </div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Apache optimization for a map server</h1>
    <p class="post-meta">March 17, 2014</p>
  </header>

  <article class="post-content">
    <p>The previous article covered most of the basics installing a simple Apache web server. With a working web server setup, you can make more specific considerations for a map server. There are simpler cases, like what kind of content you would like to serve or what kind of scripts and programs you will need. If you don’t want an audiovisual wonder with something like flash, then the content mostly will consist of images and plain text. On the scripting side you will surely need JavaScript and Python. You may use some kind of shellscript on your way to build a map server, but you don’t have to put any extra effort in optimizing that part. A bit more complicated list of considerations are, how to optimize the web server itself. You have to choose and set up the best MPM, set up privileges to various directories, choose the modules you have to use and throw away the unwanted ones, all in all, fine-tune the whole system.</p>

<h3 id="choosing-and-optimizing-the-mpm">Choosing and optimizing the MPM</h3>

<p>MPM stands for Multi-Processing Module in Apache. It is a special module, which function is to manage the processes started by the Apache daemon. The active MPM defines the behaviour of the web server, so you have to choose wisely. There were two main MPMs back in the day: prefork and worker. Prefork was the stable and secure one with thread-safe child processes, but it took more system resources than worker. Now worker is secure, too, but it uses threads instead of child processes, which can utilize system resources better via sharing objects among threads. You only have to watch out for non thread-safe modules, like <code class="highlighter-rouge">mod_php</code>, which can be replaced with <code class="highlighter-rouge">mod_fcgi</code> and <code class="highlighter-rouge">php5_cli</code> on Debian or <code class="highlighter-rouge">php_cli</code> on Fedora.</p>

<p>If you want to be able to choose wisely between MPMs, you may want to understand the concept behind some of them. When the MPM worker starts up, it creates some child process servers and some spare threads. One of the thread is the listener, its purpose is to listen for requests. When it gets one, it passes it down to one of the spare threads. The threads work is only done, when it returns the result of the request or the request times out. One child server can only spawn a given number of server threads, defined in the configuration file. When a child servers threads are all dead, the Apache daemon terminates the child server and creates a new one. When the server has some idle time, it creates spare threads to speed up the serving time of the upcoming requests.</p>

<p>That was the operation of the worker MPM in a nutshell. There is a little brother of the worker, called event, you may take into consideration. The event MPM is a thread based module, too. The only difference is, that while the worker always creates some spare child servers and threads in advance, the event only activates when there is an active request. If you plan a server with low traffic, but high load, then event might suit you better than worker. In all other cases, worker is a good choice.</p>

<p>Now that you have your preferred MPM, you have to configure it. For MPMs are modules, it can be configured in the corresponding IfModule section. In Debian, most of the module configurations come in separate .conf files in the <code class="highlighter-rouge">/etc/apache2/modules-available/</code> directory. However because there can be only one MPM present at a time, the MPM configurations are in the main configuration file in Debian, too. In Fedora some IfModule directives can be found in the main configuration file and the others can be accessed via <code class="highlighter-rouge">/etc/httpd/conf.modules.d/</code> Let’s see the default layout of the worker configuration in Debian 7:</p>

<div class="highlighter-rouge"><pre class="highlight"><code> &lt;IfModule mpm_worker_module&gt;  
   StartServers     2  
   MinSpareThreads   25  
   MaxSpareThreads   75   
   ThreadLimit     64  
   ThreadsPerChild   25  
   MaxClients     150  
   MaxRequestsPerChild  0  
 &lt;/IfModule&gt;  
</code></pre>
</div>

<p>It says that the Apache daemon will create two child servers at startup. The child servers will spawn 25-75 idle threads at all, but there can be only 64 thread at a moment. Every child can create up to 25 threads before terminated and 150 clients can send request to the server at any time. There isn’t any limit to the maximum request a child can process. As you can see, there is a clash in the two hard limits of ThreadLimit and MaxClients. Luckily, ThreadLimit isn’t necessary in the configuration, so let’s just delete it. There is one directive you may want to change, the MaxClients. There are two main limits in every server configuration you don’t want to overpass, the size of the memory and the bandwidth. You can say that the memory is the lesser limit, but no, if the server changes to swap memory, the responses will be so slow, the clients won’t wait for it or eventually time out.</p>

<p>When calculating the ideal number of maximum clients, you should consider the bandwidth divided by the size of an average map tile or if you want to avoid any chance of server lag, the bandwidth divided by the size of the biggest map tile multiplied by the number of tiles an extend consists (bw/(size*num)), but I think that would be a waste of resources. The other consideration you may make is the available physical memory after startup divided by the size of a child server. You can look up these information with the following commands:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code> debian@mapserver:~<span class="nv">$ </span>free -m  
              total    used    free   shared  buffers   cached  
 Mem:          5945    2380    3564        0      127      771  
 -/+ buffers/cache:    1481    4464  
 Swap:            0       0       0  
 debian@mapserver:~<span class="nv">$ </span>ps -C apache2 v  
  PID  TTY  STAT  TIME MAJFL  TRS   DRS   RSS %MEM COMMAND  
  8440 ?    Ss    0:00     0    0 77444  4564  0.0 /usr/sbin/apache2 -k st  
  8444 ?    S     0:00     0    0 76000  2320  0.0 /usr/sbin/apache2 -k st  
  8446 ?    S     0:00     0    0 77160  2152  0.0 /usr/sbin/apache2 -k st  
  8449 ?    Sl    0:00     0    0 300880 2972  0.0 /usr/sbin/apache2 -k st  
  8450 ?    Sl    0:00     0    0 300872 2976  0.0 /usr/sbin/apache2 -k st  
</code></pre>
</div>

<p>I’ve got 3564 MB available memory space and my average server size is 3 MB. That means, I could server 1000+ requests at once. However if I count with 10 MB/s bandwidth and my average tile size of 100 KB, I could only serve 100 requests at once, so the value of my MaxClients directive will be only 100.</p>

<h3 id="choosing-the-right-modules">Choosing the right modules</h3>

<p>Initially Apache is quite a heavy web server. It supports a bunch of programming styles, formats and frameworks via modules. The bad thing is, it has to load all of its active modules into memory. So if you activate modules you won’t actually use, you waste a lot of memory space needlessly. You have to choose the modules you need and strip down the server as you can. Most of the modules are Dynamically Shared Objects (DSOs), so if you will need some of them in the future, you can enable the corresponding ones and activate them with a server restart.</p>

<p>If you don’t have a specific module in Debian, you can download it from a repository. They can be found as libapache2-mod-xy. You can take a look at your currently active modules with the command <code class="highlighter-rouge">apache2ctl -M</code>. If you want to enable a module, you can do it with <code class="highlighter-rouge">a2enmod</code>, and you can disable modules with a2dismod. The command a2enmod creates a symlink to <code class="highlighter-rouge">/etc/apache2/mods-enabled/</code> pointing at the original module file. With every server restart, the Apache daemon loads the modules which are present in the mods-enabled folder. The currently enabled modules in my server are the following:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code> root@mapserver:~# apache2ctl -M  
 Loaded Modules:  
  core_module <span class="o">(</span>static<span class="o">)</span>  
  log_config_module <span class="o">(</span>static<span class="o">)</span>  
  logio_module <span class="o">(</span>static<span class="o">)</span>  
  version_module <span class="o">(</span>static<span class="o">)</span>  
  mpm_worker_module <span class="o">(</span>static<span class="o">)</span>  
  http_module <span class="o">(</span>static<span class="o">)</span>  
  so_module <span class="o">(</span>static<span class="o">)</span>  
  alias_module <span class="o">(</span>shared<span class="o">)</span>  
  auth_basic_module <span class="o">(</span>shared<span class="o">)</span>  
  authn_file_module <span class="o">(</span>shared<span class="o">)</span>  
  authz_default_module <span class="o">(</span>shared<span class="o">)</span>  
  authz_host_module <span class="o">(</span>shared<span class="o">)</span>  
  authz_user_module <span class="o">(</span>shared<span class="o">)</span>  
  autoindex_module <span class="o">(</span>shared<span class="o">)</span>  
  cgi_module <span class="o">(</span>shared<span class="o">)</span>  
  deflate_module <span class="o">(</span>shared<span class="o">)</span>  
  dir_module <span class="o">(</span>shared<span class="o">)</span>  
  expires_module <span class="o">(</span>shared<span class="o">)</span>  
  fcgid_module <span class="o">(</span>shared<span class="o">)</span>  
  headers_module <span class="o">(</span>shared<span class="o">)</span>  
  mime_module <span class="o">(</span>shared<span class="o">)</span>  
  negotiation_module <span class="o">(</span>shared<span class="o">)</span>  
  proxy_module <span class="o">(</span>shared<span class="o">)</span>  
  rewrite_module <span class="o">(</span>shared<span class="o">)</span>  
  setenvif_module <span class="o">(</span>shared<span class="o">)</span>  
 Syntax OK  
</code></pre>
</div>

<p>In a Fedora system, loading modules is slightly different. You can check the currently active modules with the command <code class="highlighter-rouge">httpd -M</code>, but you don’t have any for enabling or disabling modules. You have to do it manually by commenting out and uncommenting LoadModule directives in configuration files. Most of the module related configuration files can be found in <code class="highlighter-rouge">/etc/httpd/conf.modules.d/</code>. If you want to install a new module, you can download it from a repository as mod_xy. Just be sure it is a module for the Apache server (you can check it in the package description).</p>

<p>For more information about module choosing considerations there are various very useful articles on the internet, like <a href="https://haydenjames.io/strip-apache-improve-performance-memory-efficiency/">this one</a> by Hayden James. Of course you can look up every module you are not sure about in the official <a href="https://httpd.apache.org/docs/2.2/">Apache documentation</a>, they have great examples, too.</p>

<h3 id="setting-up-the-virtual-server">Setting up the virtual server</h3>

<p>Now that you have your modules configured correctly, you can proceed on setting up a virtual server. Virtual servers contain configuration options relevant to your servers attributes and file hierarchy. It can be in a separate configuration file or in the main configuration based on your distribution. Note that the Apache 2.2 and 2.4 virtual host configurations are slightly different. A layout in a Debian system can look like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code> &lt;VirtualHost *:80&gt;  
     ServerAdmin webmaster@localhost  
     ServerName localhost  
   
     DocumentRoot /var/www  
     &lt;Directory /&gt;  
         Options FollowSymLinks  
         AllowOverride None  
         Order deny,allow  
         deny from all  
     &lt;/Directory&gt;  
     &lt;Directory /var/www/&gt;  
         Options Indexes FollowSymLinks MultiViews  
         AllowOverride None  
         Order allow,deny  
         allow from all  
     &lt;/Directory&gt;  
     ScriptAlias /cgi-bin /var/www/cgi-bin/  
     &lt;Directory "/var/www/cgi-bin/"&gt;  
         AddHandler fcgid-script .php  
         FCGIWrapper /usr/lib/cgi-bin/php5 .php  
         AllowOverride None  
         Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch  
         Order allow,deny  
         Allow from all  
     &lt;/Directory&gt;  
   
     ErrorLog ${APACHE_LOG_DIR}/error.log  
   
     # Possible values include: debug, info, notice, warn, error, crit,  
     # alert, emerg.  
     LogLevel warn  
   
     CustomLog ${APACHE_LOG_DIR}/access.log combined  
 &lt;/VirtualHost&gt;  
</code></pre>
</div>

<p>I’ve covered most of the directives in the previous article, so I’ll just write about the Directory part. You have to define every directory in the virtual server section you want Apache to handle differently. Every definition is recursive and enforced until the next directive, so if you deny all access from root, but you allow accessing /usr, then Apache can’t access <code class="highlighter-rouge">/home</code>, but can access <code class="highlighter-rouge">/usr/bin</code> for example. The default directories are <code class="highlighter-rouge">/</code>, <code class="highlighter-rouge">/var/www</code> and <code class="highlighter-rouge">/usr/lib/cgi-bin</code>. As default in Debian, Apache wants to put all the cgis in <code class="highlighter-rouge">/usr/lib/cgi-bin</code>, so I modified the <code class="highlighter-rouge">ScriptAlias</code> directive to point at <code class="highlighter-rouge">/var/www/cgi-bin</code>. Note that in ScriptAlias you must put a slash after cgi-bin, while in a Directory declaration you don’t have to. The first Directory section (from now on section) is the root directory. You have to prohibit Apache to access your system configuration and directories and you can do so, by denying all access to root. The next section is <code class="highlighter-rouge">www</code>. This will be the actual place of your website. You have to grant access to it. The last section is the <code class="highlighter-rouge">cgi-bin</code> directory. The most important option here is the <code class="highlighter-rouge">ExecCGI</code>. Without it, the Apache daemon won’t know that the contained files are scripts, so it just prints out their content. You can add additional handlers and wrappers for third party frameworks, like in my case, PHP.</p>

<p>In Fedora by default there aren’t any virtual host sections. The settings of the default virtual host are scattered through the main configuration file. If you don’t want to make a server listening to various ports, or make differently behaving virtual servers, this setup will do good enough. In Apache 2.4 <code class="highlighter-rouge">Order</code> and <code class="highlighter-rouge">Allow</code> directives have been replaced with a single one: <code class="highlighter-rouge">Require</code>. It can be Require all granted, Require all denied or Require host x.y. Note that in Fedora, the default DocumentRoot folder is <code class="highlighter-rouge">/var/www/httpd</code>, so there are four sections by default.</p>

<h3 id="configuring-selinux-for-apache-24-in-fedora-20">Configuring SELinux for Apache 2.4 in Fedora 20</h3>

<p>In the newer Fedora systems there is a built-in feature, SELinux. It stands for Security Enhanced Linux and is developed by the NSA. Its main purpose to give an additional security layer by controlling daemon behaviors with politics and file contexts. Every file gets another metadata, the file context, and it defines if a specific daemon, like httpd can access it or not.</p>

<p>The easiest way to get around SELinux is to disable it. I don’t recommend it however, because I assume you didn’t choose Fedora for its mere beauty. Completely disabling a security layer compiled in the kernel can be dangerous. If you want to disable it anyway, you can do it by editing its config file which can be accessed via <code class="highlighter-rouge">/etc/selinux/config</code>. You have to replace the value enforcing with permissive or disabled.</p>

<p>If you want to configure SELinux properly, first you may want to check the values of the SELinux boolean settings:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="o">[</span>root@mapserver fedora]# semanage boolean -l | grep httpd  
 httpd_can_network_relay        <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can network relay  
 httpd_can_connect_mythtv       <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can connect mythtv  
 httpd_can_network_connect_db   <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can network connect db  
 httpd_use_gpg                  <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to use gpg  
 httpd_enable_cgi               <span class="o">(</span>on  ,  on<span class="o">)</span> Allow httpd to <span class="nb">enable </span>cgi  
 httpd_verify_dns               <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to verify dns  
 httpd_anon_write               <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to anon write  
 httpd_use_cifs                 <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to use cifs  
 httpd_enable_homedirs          <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to <span class="nb">enable </span>homedirs  
 httpd_unified                  <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to unified  
 httpd_mod_auth_pam             <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to mod auth pam  
 httpd_run_stickshift           <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to run stickshift  
 httpd_use_fusefs               <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to use fusefs  
 httpd_can_connect_ldap         <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can connect ldap  
 httpd_can_network_connect      <span class="o">(</span>on  ,  on<span class="o">)</span> Allow httpd to can network connect  
 httpd_mod_auth_ntlm_winbind    <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to mod auth ntlm winbind  
 httpd_use_sasl                 <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to use sasl  
 httpd_tty_comm                 <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to tty comm  
 httpd_sys_script_anon_write    <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to sys script anon write  
 httpd_graceful_shutdown        <span class="o">(</span>on  ,  on<span class="o">)</span> Allow httpd to graceful shutdown  
 httpd_can_connect_ftp          <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can connect ftp  
 httpd_read_user_content        <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to <span class="nb">read </span>user content  
 httpd_use_nfs                  <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to use nfs  
 httpd_can_connect_zabbix       <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can connect zabbix  
 httpd_tmp_exec                 <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to tmp <span class="nb">exec  
 </span>httpd_manage_ipa               <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to manage ipa  
 httpd_can_sendmail             <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can sendmail  
 httpd_builtin_scripting        <span class="o">(</span>on  ,  on<span class="o">)</span> Allow httpd to <span class="nb">builtin </span>scripting  
 httpd_dbus_avahi               <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to dbus avahi  
 httpd_can_check_spam           <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can check spam  
 httpd_can_network_memcache     <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can network memcache  
 httpd_can_network_connect_cobbler <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to can network connect cobbler  
 httpd_serve_cobbler_files      <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to serve cobbler files  
 httpd_execmem                  <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to execmem  
 httpd_ssi_exec                 <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to ssi <span class="nb">exec  
 </span>httpd_use_openstack            <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to use openstack  
 httpd_enable_ftp_server        <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to <span class="nb">enable </span>ftp server  
 httpd_setrlimit                <span class="o">(</span>off , off<span class="o">)</span> Allow httpd to setrlimit  
</code></pre>
</div>

<p>There are several options you can make your life easier with SELinux. Check the <code class="highlighter-rouge">httpd_enable_cgi</code> option, if it is disabled, then you must enable it before you can execute cgi scripts. There is another interesting option, the <code class="highlighter-rouge">httpd_unified</code> one. If you turn it on, then SELinux won’t make difference in script, content, access and write contexts. You can turn it on with the <code class="highlighter-rouge">setsebool -P httpd_unified 1</code> command. Be cautious, because with unifying the httpd contexts, you lose a security layer. The only thing left to do is to mark all the directories as httpd contents that haven’t been marked by default. In my case this folder is <code class="highlighter-rouge">/var/www</code> and the procedure is the following:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="o">[</span>root@mapserver ~]# semanage fcontext -a -t httpd_sys_content_t <span class="s2">"/var/www"</span>
 <span class="o">[</span>root@mapserver ~]# restorecon /var/www  
</code></pre>
</div>

<p>If you want to take the harder way and keep all the SELinux security possibilities, then you have edit the file context of the directories you want Apache to get access to with their contents. There are four main contexts you have to know about. The first is the default <code class="highlighter-rouge">httpd_sys_content_t</code>. Files labelled with it, can be accessed by httpd, but cannot be written or executed. The second is <code class="highlighter-rouge">httpd_sys_script_exec_t</code>. It labels the executable scripts and their containing folder(s). The other two are special contexts. The <code class="highlighter-rouge">httpd_sys_ra_content_t</code> label marks files and folders the httpd daemon have access and append rights to, while the <code class="highlighter-rouge">httpd_sys_rw_content_t</code> label grants full writing access for httpd.</p>

<p>There are two ways to relabel your web content. If you are not sure what label should be given to the files and folders, you can use the <code class="highlighter-rouge">chcon</code> command (<code class="highlighter-rouge">chcon -t httpd_sys_content_t /var/www</code> for example). Then the original context can be restored with the restorecon command. If you are 100% sure about what are you doing, you can change the context of the web content permanently with the <code class="highlighter-rouge">semanage</code> tool. After using it, you have to run the <code class="highlighter-rouge">restorecon</code> command to finalize the changes. Let’s see an example where is a <code class="highlighter-rouge">/var/www</code> <code class="highlighter-rouge">DocumentRoot</code>, a <code class="highlighter-rouge">/var/www/cgi-bin</code> script folder, a <code class="highlighter-rouge">/var/www/httpd</code> folder with appending rights and a <code class="highlighter-rouge">/var/www/img</code> folder with full access:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="o">[</span>root@mapserver ~]# semanage fcontext -a -t httpd_sys_content_t <span class="s2">"/var/www(/.*)?"</span>  
 <span class="o">[</span>root@mapserver ~]# semanage fcontext -a -t httpd_sys_script_exec_t <span class="s2">"/var/www/cgi-bin"</span>  
 <span class="o">[</span>root@mapserver ~]# semanage fcontext -a -t httpd_sys_ra_content_t <span class="s2">"/var/www/httpd"</span>  
 <span class="o">[</span>root@mapserver ~]# semanage fcontext -a -t httpd_sys_rw_content_t <span class="s2">"/var/www/img"</span>  
 <span class="o">[</span>root@mapserver ~]# restorecon -Rv /var/www  
</code></pre>
</div>

<p>You can check the options and flags for these commands at the corresponding man pages (<code class="highlighter-rouge">man restorecon</code>, <code class="highlighter-rouge">man 8 semanage-fcontext</code>).</p>

<p>Congratulations! Now that you have configured your web server, you can check it with an index.html in the DocumentRoot and maybe some scripts in the cgi-bin. This is a simple “Hello World” shell script:</p>

<div class="language-bash highlighter-rouge"><pre class="highlight"><code> <span class="c">#! /bin/bash  </span>
    
 <span class="nb">echo</span> <span class="s2">"Content-type: text/html"</span>  
 <span class="nb">echo</span> <span class="s2">""</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;html&gt;'</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;head&gt;'</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;'</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;title&gt;Hello World&lt;/title&gt;'</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;/head&gt;'</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;body&gt;'</span>  
 <span class="nb">echo</span> <span class="s1">'Hello World'</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;/body&gt;'</span>  
 <span class="nb">echo</span> <span class="s1">'&lt;/html&gt;'</span>  
    
 <span class="nb">exit </span>0  
</code></pre>
</div>


  </article>

  
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname  = 'gaborfarkas-github-io';
      var disqus_identifier = '/blog/2014/apache-optimize';
      var disqus_title      = "Apache optimization for a map server";
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  

</div>

      </div>
    </div>

    <footer>

  <div class="wrapper">
    &copy; Copyright 2017 Gábor Farkas.
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.

    
  </div>

</footer>


    <!-- Load jQuery -->
<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>

<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>


<!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js"></script>
<script src="/assets/js/katex.js"></script>




<!-- Include custom icon fonts -->
<link rel="stylesheet" href="/assets/css/font-awesome.min.css">
<link rel="stylesheet" href="/assets/css/academicons.min.css">

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-XXXXXXXX-X', 'auto');
ga('send', 'pageview');
</script>


  </body>

</html>
