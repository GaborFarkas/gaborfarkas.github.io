function attrtable() {
    lyr.getSource().headers = {name: 'string', population: 'int', area: 'float'};
    function getAttributeTable(source) {
        var attrTable = {};
        var features = source.getFeatures();
        for (var i=0;i<features.length;i++) {
            var tableEntry = attrTable[features[i].getId() || i] = {};
            for (var j in source.headers) {
                if (features[i].getProperties()[j]) {
                    tableEntry[j] = features[i].getProperties()[j];
                } else {
                    tableEntry[j] = null;
                }
            }
        }
        return attrTable;
    }
    getAttributeTable(lyr.getSource());
}